package com.example.demo;
import com.alibaba.fastjson.JSONObject;
import com.example.demo.utils.httpclient;
import org.junit.Test;

import java.util.HashMap;
import java.util.Map;
import java.util.ArrayList;


public class testhttpclient {
    httpclient httpclient=new httpclient();
    @Test
    public  void testhttpgetwithheader(){
        Map<String,String> mapper=new HashMap();
        String cookie="__yadk_uid=ggBeVJYfgY4zIw9KJOnBYRjOjSx3jynG; read_mode=day; default_font=font2; locale=zh-CN; Hm_lvt_0c0e9d9b1e7d617b3e6842e85b9fb068=1559024615,1559112092,1559715754,1560255000; remember_user_token=W1sxMTY5MDc4N10sIiQyYSQxMSR2dC5SSEtXaWZrYjZleGd6STg3WUZlIiwiMTU2MDc1MzI5Ny41NzEyMTY2Il0%3D--b34ee904b21a7f26835891d1a93058766fad253d; _m7e_session_core=a19107a7e86b843e931fc5158c1999c5; sensorsdata2015jssdkcross=%7B%22distinct_id%22%3A%2211690787%22%2C%22%24device_id%22%3A%2216a01810bf796-06120e0fb2338a-12356d56-2073600-16a01810bf84a6%22%2C%22props%22%3A%7B%22%24latest_traffic_source_type%22%3A%22%E7%9B%B4%E6%8E%A5%E6%B5%81%E9%87%8F%22%2C%22%24latest_referrer%22%3A%22%22%2C%22%24latest_referrer_host%22%3A%22%22%2C%22%24latest_search_keyword%22%3A%22%E6%9C%AA%E5%8F%96%E5%88%B0%E5%80%BC_%E7%9B%B4%E6%8E%A5%E6%89%93%E5%BC%80%22%7D%2C%22first_id%22%3A%2216a01810bf796-06120e0fb2338a-12356d56-2073600-16a01810bf84a6%22%7D; Hm_lpvt_0c0e9d9b1e7d617b3e6842e85b9fb068=1560753328";
        String url="https://www.jianshu.com/users/recommended?seen_ids=&count=5&only_unfollowed=true";
        mapper.put("Cookie",cookie);
        JSONObject reponsebody=httpclient.httpGet(url,mapper);
        System.out.println("res is:"+reponsebody.toJSONString());
    }
    @Test
    public void testhttpgetwithoutheader(){
        String url="https://baike.baidu.com/api/tashuo/gettashuolist?lemmaId=229536&limit=5";
        JSONObject reponsebody=httpclient.httpGet(url,null);
        System.out.println(" test3 res is:"+reponsebody.toJSONString());
    }
    @Test
    public void testhttppost(){
        Map<String,String> mapper=new HashMap<>();
        String url="http://adplat.youku.com/idea/search";
        //String cookie="__ysuid=1542782327075Lgv; juid=01cssm7oi81cgi; gray_mark=94; l=bBQvrSYgvNjTPZA5BOfZZ-N6MZ79oIRb4sPrll7dAICPOw1B5_TVWZgLjsT6C3GVw1SwR3yt7DT6BeYBc6C..; timerun_8013826=0; timerun_8015771=1; timerun_8017696=0; timerun_8021952=0; timerun_8021906=0; timerun_8022065=0; timerun_8016606=128.669648; timerun_8022186=0; timerun_8021915=0; timerun_8021977=0; timerun_8022880=6.20035; timerun_8023005=0; timerun_8023257=0; sn=0_1553753503; timerun_8024742=849.20316; timerun_8024726=1130.145967; timerun_8025871=0; timerun_8025796=0.948841; timerun_8028225=4467.437939; timerun_8028494=22.692339; timerun_8029906=103.207988; timerun_8036375=0; timerun_8038896=0; timerun_8039202=0; SSO_LANG_V2=ZH-CN; SSO_EMPID_HASH_V2=221a7e6e83ea322107d0417ecca5b9cf; __ayft=1559215648190; ycid=0; __aysid=1560148492695ITx; __ayscnt=3; __arycid=dz-1-00; __arcms=dz-1-00; yseid=1560681051112AC0QK4; yseidcount=50; P_ck_ctl=378225B3E80020D198724335476A97E9; seid=01ddg1bmev1u4d; referhost=https%3A%2F%2Fso.youku.com; seidtimeout=1560686973218; ypvid=1560685173629X96P64; ysestep=3; yseidtimeout=1560692373637; ystep=699; P_gck=NA%7C3ZAX62asXDRe78l%2FDeVQXw%3D%3D%7CNA%7C1560685307475; P_pck_rm=jIlxZTujzNsGmH3mu%2BumCuHFOoi8AggWrYvgArjM8amE6kXXPLA1NX6knljuI8mDaxii7vy%2FcNKAyi80AY68aAXhDZUy710iGgKeEDFT2yvnYIuCoC3bvgPxMp%2Fzc%2FXctlOu92eZbIcgDvPhqVkWlA%3D%3D; P_sck=XIiSu93ZuKn0KNggIEpGGlz9733SX6DcqAumplE2J2sdyNccj0NUPkZ1efxP%2FtvZ3XUywzVYd%2Ba6cqG4j8kvVdxbdEw0%2FHcsU5jkR0xJT609x191S164f5oNzZvkP%2FHgsQI60uRQX8gqickD3Ta8Aw%3D%3D; __ayvstp=442; __aysvstp=9; cna=/N6NFQ3SQmICAWoLIgP/bNIi; ad-plat_USER_COOKIE=2FF46AF5102731945FB088C4E5C4097CBE604E7FF889C6B5C92C9F5CD782772F266E28F01D4E7FB3526A61D8FDF6ED709D3F286820418709CF1B50D562F34BA950B6EA923194E9D33F56AA93668F497F57C65B227BD6EA580EB4F302108396EA5D3B038124C2D3716D553C77AD250BBC31EFF77DEF5260AC53289DDD34071F2F31B590D118D3F30D17AC0BE0084EA537C3E6A80358A209C3F2892DB104333DFCA7EF9EDFEF204773474B24D71BDC5E3E3AA911D8E06E33A463BB504F2C5ACE7136454BC62BB53A3A2D4B9A7841DBFBF20DF9440B07F96308E05F5093992A0E76B07DE96D6D0E1DD0F5E3362BD5AB42455EE85532F4CD10980781DC187A00E592884FEF0FD5DE369817252CCAF26B94A448DED1294327AABD9ADDAD7F0E43DDC083FBFFF928F7E637A0EF89E701125830AE1A2A5236EA0531D89B378DECE1B4955C6FD4F1E4AC4915F1CD6EBDBE47F0515C8BA3A720B8C9921330D8870BDB3F2770E7AF470540F2A8AD672DBCBADFEDDC757F59EBF49FC56E2730E6DCC4EBAB9CB1076D0A21A98EB808239B8D875DF6344FDE4A79374BA0E1B307C918DB01F8219798517A4A486F26B17442C32F730AD2E6AA55785848E025E879F675080E993869F02A69F298F8163D196862898B39CD; ad-plat_SSO_TOKEN_V2=E8D69A92315D9DD2E5B806C15A2A138F23BDDAA9320E9AF1C0AAA8DA24BAE79DC0E31BA46C68FE9476DD4E27768E63208E7D8F7342E0612B3CAC3F24AB975CC6; JSESSIONID=8A601A20B177DF82A77C9E5816FE991F; __arpvid=15607765424879pb4c2-1560776542509; __aypstp=123; __ayspstp=88; isg=BJmZtrkDIA9orfpo1okLqIrbqINtPb2ajJPfh7tPsEA_wrpUB3LAqJxUxIa0-iUQ";
        String cookie="__ysuid=1542782327075Lgv; juid=01cssm7oi81cgi; gray_mark=94; l=bBQvrSYgvNjTPZA5BOfZZ-N6MZ79oIRb4sPrll7dAICPOw1B5_TVWZgLjsT6C3GVw1SwR3yt7DT6BeYBc6C..; timerun_8013826=0; timerun_8015771=1; timerun_8017696=0; timerun_8021952=0; timerun_8021906=0; timerun_8022065=0; timerun_8016606=128.669648; timerun_8022186=0; timerun_8021915=0; timerun_8021977=0; timerun_8022880=6.20035; timerun_8023005=0; timerun_8023257=0; sn=0_1553753503; timerun_8024742=849.20316; timerun_8024726=1130.145967; timerun_8025871=0; timerun_8025796=0.948841; timerun_8028225=4467.437939; timerun_8028494=22.692339; timerun_8029906=103.207988; timerun_8036375=0; timerun_8038896=0; timerun_8039202=0; SSO_LANG_V2=ZH-CN; SSO_EMPID_HASH_V2=221a7e6e83ea322107d0417ecca5b9cf; __ayft=1559215648190; ycid=0; __aysid=1560148492695ITx; __ayscnt=3; __arycid=dz-1-00; __arcms=dz-1-00; yseid=1560681051112AC0QK4; yseidcount=50; P_ck_ctl=378225B3E80020D198724335476A97E9; seid=01ddg1bmev1u4d; referhost=https%3A%2F%2Fso.youku.com; seidtimeout=1560686973218; ypvid=1560685173629X96P64; ysestep=3; yseidtimeout=1560692373637; ystep=699; P_gck=NA%7C3ZAX62asXDRe78l%2FDeVQXw%3D%3D%7CNA%7C1560685307475; P_pck_rm=jIlxZTujzNsGmH3mu%2BumCuHFOoi8AggWrYvgArjM8amE6kXXPLA1NX6knljuI8mDaxii7vy%2FcNKAyi80AY68aAXhDZUy710iGgKeEDFT2yvnYIuCoC3bvgPxMp%2Fzc%2FXctlOu92eZbIcgDvPhqVkWlA%3D%3D; P_sck=XIiSu93ZuKn0KNggIEpGGlz9733SX6DcqAumplE2J2sdyNccj0NUPkZ1efxP%2FtvZ3XUywzVYd%2Ba6cqG4j8kvVdxbdEw0%2FHcsU5jkR0xJT609x191S164f5oNzZvkP%2FHgsQI60uRQX8gqickD3Ta8Aw%3D%3D; __ayvstp=442; __aysvstp=9; cna=/N6NFQ3SQmICAWoLIgP/bNIi; ad-plat_USER_COOKIE=2FF46AF5102731945FB088C4E5C4097CBE604E7FF889C6B5C92C9F5CD782772F266E28F01D4E7FB3526A61D8FDF6ED709D3F286820418709CF1B50D562F34BA950B6EA923194E9D33F56AA93668F497F57C65B227BD6EA580EB4F302108396EA5D3B038124C2D3716D553C77AD250BBC31EFF77DEF5260AC53289DDD34071F2F31B590D118D3F30D17AC0BE0084EA537C3E6A80358A209C3F2892DB104333DFCA7EF9EDFEF204773474B24D71BDC5E3E3AA911D8E06E33A463BB504F2C5ACE7136454BC62BB53A3A2D4B9A7841DBFBF20DF9440B07F96308E05F5093992A0E76B07DE96D6D0E1DD0F5E3362BD5AB42455EE85532F4CD10980781DC187A00E592884FEF0FD5DE369817252CCAF26B94A448DED1294327AABD9ADDAD7F0E43DDC083FBFFF928F7E637A0EF89E701125830AE1A2A5236EA0531D89B378DECE1B4955C6FD4F1E4AC4915F1CD6EBDBE47F0515C8BA3A720B8C9921330D8870BDB3F2770E7AF470540F2A8AD672DBCBADFEDDC757F59EBF49FC56E2730E6DCC4EBAB9CB1076D0A21A98EB808239B8D875DF6344FDE4A79374BA0E1B307C918DB01F8219798517A4A486F26B17442C32F730AD2E6AA55785848E025E879F675080E993869F02A69F298F8163D196862898B39CD; ad-plat_SSO_TOKEN_V2=5E48E4298752DB02E2948F45F90CF9AE5224F1C844CE7487F4EAC69CD072A018D863DCFAE2AEE42C1F9C64BC69C472D0CCA308520BDC8138A5EB774B87DBD1CE; JSESSIONID=5316D7F04D720806E9E40B2AE7FEE3A8; __arpvid=1560777209740TySNlM-1560777209761; __aypstp=124; __ayspstp=89; isg=BEZGK_tSZ1YeVjVBnajsgVEKlzrWvLojp2LQLjBu_mlEM-NNnDOBcbkFC2__m4J5";
        JSONObject paraextLimit=new JSONObject();
        JSONObject para=new JSONObject();
        ArrayList<Integer> option=new ArrayList<>();
        option.add(10);
        option.add(20);
        option.add(50);
        option.add(100);
        paraextLimit.put("start",0);
        paraextLimit.put("limit",10);
        paraextLimit.put("maxSize",8);
        paraextLimit.put("currentPage",1);
        paraextLimit.put("limitOptions",option);
        para.put("extLimit",paraextLimit);
        para.put("keyword","3034324");
        mapper.put("Cookie",cookie);

        JSONObject reponsebody=httpclient.httpPost(url,para,mapper);
        System.out.println(" testhttppost res is:"+reponsebody.toJSONString());

    }

}
